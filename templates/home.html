{% extends "base.html" %}
{% block title %}Home | Travel Agency{% endblock %}

{% block content %}
  <h2 class="text-2xl font-bold mb-4">Bem-vindo à Travel Agency</h2>

  <section class="mb-6">
    <p class="text-lg">Temos <strong>{{ total_countries }}</strong> países catalogados e 
       <strong>{{ total_itineraries }}</strong> roteiros disponíveis.</p>
  </section>

  <section class="mb-6">
    <h3 class="text-xl font-semibold mb-2">Países em destaque</h3>
    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
      {% for country in featured_countries %}
        <div class="border rounded p-2 bg-white shadow hover:shadow-md">
          <a href="{% url 'country_detail' country.cca2 %}" class="flex items-center space-x-2">
            <img src="{{ country.flag_url }}" alt="Bandeira" class="w-8 h-6">
            <span>{{ country.name }} ({{ country.region }})</span>
          </a>
        </div>
      {% endfor %}
    </div>
  </section>

  <section>
    <h3 class="text-xl font-semibold mb-2">Roteiros Recentes</h3>
    <ul class="space-y-2">
      {% for itinerary in recent_itineraries %}
        <li class="p-3 bg-white rounded shadow hover:shadow-md flex justify-between">
          <a href="{% url 'itinerary_detail' itinerary.id %}">
            {{ itinerary.title }} - {{ itinerary.country.name }}
          </a>
          <a href="{% url 'itinerary_update' itinerary.id %}" 
             class="text-blue-600 hover:underline">Editar</a>
        </li>
      {% empty %}
        <li class="text-gray-500">Nenhum roteiro cadastrado ainda. 
          <a href="{% url 'itinerary_create' %}" class="text-blue-600 underline">
            Seja o primeiro!
          </a>
        </li>
      {% endfor %}
    </ul>
  </section>
{% endblock %}